@page
@model HomeService.Endpoint.Razor.Areas.Admin.Pages.SubCategories.UpdateModel

@{
    ViewData["Title"] = "پیشخوان > مدیریت سابکتگوری ها > آپدیت";
}
@if(Model.SubCategory is not null)
{
    <div class="col-lg-12">
        <p class="text-center m-t-30 m-b-40">
            <i class="icon-user-following border border-primary img-circle text-primary font-xxxlg p-20"></i>
        </p>
    </div>
    <div class="col-lg-12">
        <form method="post" asp-page="/SubCategories/Update" enctype="multipart/form-data" class="form-horizontal" role="form">
            @Html.AntiForgeryToken()
            <input type="hidden" class="form-control ltr text-right" asp-for="SubCategory!.Id">

            <!-- Title Input -->
            <div class="col-md-8 col-lg-6 m-auto mb-3">
                <div class="input-group">
                    <span class="input-group-text">
                        <i class="icon-home"></i>
                    </span>
                    <input type="text" class="form-control ltr text-right" asp-for="SubCategory!.Title" placeholder="نام سابکتگوری">
                </div>
                <div class="text-danger small mt-1">
                    <span asp-validation-for="SubCategory!.Title"></span>
                </div>
            </div>

            <!-- Category Select -->
            <div class="col-md-8 col-lg-6 m-auto mb-3">
                <div class="input-group">
                    <span class="input-group-text">
                        <i class="icon-options"></i>
                    </span>
                    <select asp-for="SubCategory!.CategoryId" class="form-select" required>
                        @foreach (var item in @Model.Categories)
                        {
                            <option value="@item.Id">@item.Title</option>
                        }
                    </select>
                </div>
                <div class="text-danger small mt-1">
                    <span asp-validation-for="SubCategory!.CategoryId"></span>
                </div>
            </div>

            <!-- Buttons -->
            <div class="col-md-8 col-lg-6 m-auto">
                <button type="submit" class="btn btn-success btn-block mt-4 mb-2">
                    <i class="icon-cursor"></i>
                    ذخیره
                </button>
                <button type="button" class="btn btn-danger btn-block float-end mb-3" data-bs-dismiss="modal">
                    بازگشت
                </button>
            </div>
        </form>
    </div>
    <script>

        setTimeout(function () {
            var successMessage = document.getElementById("successMessage");
            var errorMessage = document.getElementById("errorMessage");

            if (successMessage) {
                successMessage.style.transition = "opacity 0.5s";
                successMessage.style.opacity = "0";
                setTimeout(function () { successMessage.style.display = "none"; }, 500);
            }

            if (errorMessage) {
                errorMessage.style.transition = "opacity 0.5s";
                errorMessage.style.opacity = "0";
                setTimeout(function () { errorMessage.style.display = "none"; }, 500);
            }
        }, 5000);
    </script>
}